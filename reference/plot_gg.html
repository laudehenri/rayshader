<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Transform ggplot2 objects into 3D — plot_gg • rayshader</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Transform ggplot2 objects into 3D — plot_gg" />
<meta property="og:description" content="Plots a ggplot2 object in 3D by mapping the color or fill aesthetic to elevation.
Currently, this function does not transform lines mapped to color into 3D.
If there are multiple legends/guides due to multiple aesthetics being mapped (e.g. color and shape),
the package author recommends that the user pass the order of the guides manually using the ggplot2 function &quot;guides()`. 
Otherwise, the order may change when processing the ggplot2 object and result in a mismatch between the 3D mapping
and the underlying plot.
Using the shape aesthetic with more than three groups is not recommended, unless the user passes in 
custom, solid shapes. By default in ggplot2, only the first three shapes are solid, which is a requirement to be projected
into 3D." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rayshader</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.20.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials/Blog Posts
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://www.tylermw.com/a-step-by-step-guide-to-making-3d-maps-with-satellite-imagery-in-r/">A Step-by-Step Guide to Making 3D Maps with Satellite Imagery in R</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-ggplots-with-rayshader/">Introducing 3D ggplots with rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/portrait-mode-data/">Portrait Mode for Data: Rayshader + Rayfocus</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-printing-rayshader/">From R to Reality: 3D Printing Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/3d-maps-with-rayshader/">Slicing Through Monterey Bay: Creating 3D Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/making-beautiful-maps/">Draining Lake Mead: Making Beautiful Maps with Rayshader</a>
    </li>
    <li>
      <a href="https://www.tylermw.com/throwing-shade/">Throwing Shade at the Cartographer Illuminati: Raytracing the Washington Monument in R</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    Changelog
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/tylermorganwall/rayshader">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Transform ggplot2 objects into 3D</h1>
    <small class="dont-index">Source: <a href='https://github.com/tylermorganwall/rayshader/blob/master/R/plot_gg.R'><code>R/plot_gg.R</code></a></small>
    <div class="hidden name"><code>plot_gg.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plots a ggplot2 object in 3D by mapping the color or fill aesthetic to elevation.</p>
<p>Currently, this function does not transform lines mapped to color into 3D.</p>
<p>If there are multiple legends/guides due to multiple aesthetics being mapped (e.g. color and shape),
the package author recommends that the user pass the order of the guides manually using the ggplot2 function "guides()`. 
Otherwise, the order may change when processing the ggplot2 object and result in a mismatch between the 3D mapping
and the underlying plot.</p>
<p>Using the shape aesthetic with more than three groups is not recommended, unless the user passes in 
custom, solid shapes. By default in ggplot2, only the first three shapes are solid, which is a requirement to be projected
into 3D.</p>
    </div>

    <pre class="usage"><span class='fu'>plot_gg</span>(
  <span class='no'>ggobj</span>,
  <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>height</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>height_aes</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>invert</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>shadow_intensity</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
  <span class='kw'>units</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"in"</span>, <span class='st'>"cm"</span>, <span class='st'>"mm"</span>),
  <span class='kw'>scale</span> <span class='kw'>=</span> <span class='fl'>150</span>,
  <span class='kw'>pointcontract</span> <span class='kw'>=</span> <span class='fl'>0.7</span>,
  <span class='kw'>offset_edges</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>preview</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>raytrace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>sunangle</span> <span class='kw'>=</span> <span class='fl'>315</span>,
  <span class='kw'>anglebreaks</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='fl'>30</span>, <span class='fl'>40</span>, <span class='fl'>0.1</span>),
  <span class='kw'>multicore</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>lambert</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>triangulate</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>max_error</span> <span class='kw'>=</span> <span class='fl'>0.001</span>,
  <span class='kw'>max_tri</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>reduce_size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save_height_matrix</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>save_shadow_matrix</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>saved_shadow_matrix</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ggobj</th>
      <td><p>ggplot object to projected into 3D.</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>Default `3`. Width of ggplot, in `units`.</p></td>
    </tr>
    <tr>
      <th>height</th>
      <td><p>Default `3`. Height of ggplot, in `units`.</p></td>
    </tr>
    <tr>
      <th>height_aes</th>
      <td><p>Default `NULL`. Whether the `fill` or `color` aesthetic should be used for height values, 
which the user can specify by passing either `fill` or `color` to this argument.
Automatically detected. If both `fill` and `color` aesthetics are present, then `fill` is default.</p></td>
    </tr>
    <tr>
      <th>invert</th>
      <td><p>Default `FALSE`. If `TRUE`, the height mapping is inverted.</p></td>
    </tr>
    <tr>
      <th>shadow_intensity</th>
      <td><p>Default `0.5`. The intensity of the calculated shadows.</p></td>
    </tr>
    <tr>
      <th>units</th>
      <td><p>Default `in`. One of c("in", "cm", "mm").</p></td>
    </tr>
    <tr>
      <th>scale</th>
      <td><p>Default `150`. Multiplier for vertical scaling: a higher number increases the height
of the 3D transformation.</p></td>
    </tr>
    <tr>
      <th>pointcontract</th>
      <td><p>Default `0.7`. This multiplies the size of the points and shrinks
them around their center in the 3D surface mapping. Decrease this to reduce color bleed on edges, and set to
`1` to turn off entirely. Note: If `size` is passed as an aesthetic to the same geom
that is being mapped to elevation, this scaling will not be applied. If `alpha` varies on the variable 
being mapped, you may want to set this to `1`, since the points now have a non-zero width stroke outline (however,
mapping `alpha` in the same variable you are projecting to height is probably not a good choice. as the `alpha`
variable is ignored when performing the 3D projection).</p></td>
    </tr>
    <tr>
      <th>offset_edges</th>
      <td><p>Default `FALSE`. If `TRUE`, inserts a small amount of space between polygons for "geom_sf", "geom_tile", "geom_hex", and "geom_polygon" layers.
If you pass in a number, the space between polygons will be a line of that width. Note: this feature may end up removing thin polygons 
from the plot entirely--use with care.</p></td>
    </tr>
    <tr>
      <th>preview</th>
      <td><p>Default `FALSE`. If `TRUE`, the raytraced 2D ggplot will be displayed on the current device.</p></td>
    </tr>
    <tr>
      <th>raytrace</th>
      <td><p>Default `FALSE`. Whether to add a raytraced layer.</p></td>
    </tr>
    <tr>
      <th>sunangle</th>
      <td><p>Default `315` (NW). If raytracing, the angle (in degrees) around the matrix from which the light originates.</p></td>
    </tr>
    <tr>
      <th>anglebreaks</th>
      <td><p>Default `seq(30,40,0.1)`. The azimuth angle(s), in degrees, as measured from the horizon from which the light originates.</p></td>
    </tr>
    <tr>
      <th>multicore</th>
      <td><p>Default `FALSE`. If raytracing and `TRUE`, multiple cores will be used to compute the shadow matrix. By default, this uses all cores available, unless the user has
set `options("cores")` in which the multicore option will only use that many cores.</p></td>
    </tr>
    <tr>
      <th>lambert</th>
      <td><p>Default `TRUE`. If raytracing, changes the intensity of the light at each point based proportional to the
dot product of the ray direction and the surface normal at that point. Zeros out all values directed away from
the ray.</p></td>
    </tr>
    <tr>
      <th>triangulate</th>
      <td><p>Default `FALSE`. Reduce the size of the 3D model by triangulating the height map.
Set this to `TRUE` if generating the model is slow, or moving it is choppy. Will also reduce the size
of 3D models saved to disk.</p></td>
    </tr>
    <tr>
      <th>max_error</th>
      <td><p>Default `0.001`. Maximum allowable error when triangulating the height map,
when `triangulate = TRUE`. Increase this if you encounter problems with 3D performance, want
to decrease render time with `render_highquality()`, or need 
to save a smaller 3D OBJ file to disk with `save_obj()`,</p></td>
    </tr>
    <tr>
      <th>max_tri</th>
      <td><p>Default `0`, which turns this setting off and uses `max_error`. 
Maximum number of triangles allowed with triangulating the
height map, when `triangulate = TRUE`. Increase this if you encounter problems with 3D performance, want
to decrease render time with `render_highquality()`, or need 
to save a smaller 3D OBJ file to disk with `save_obj()`,</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Default `TRUE`, if `interactive()`. Prints information about the mesh triangulation
if `triangulate = TRUE`.</p></td>
    </tr>
    <tr>
      <th>reduce_size</th>
      <td><p>Default `NULL`. A number between `0` and `1` that specifies how much to reduce the resolution of the plot, for faster plotting. By
default, this just decreases the size of height map, not the image. If you wish the image to be reduced in resolution as well, pass a numeric vector of size 2.</p></td>
    </tr>
    <tr>
      <th>save_height_matrix</th>
      <td><p>Default `FALSE`. If `TRUE`, the function will return the height matrix used for the ggplot.</p></td>
    </tr>
    <tr>
      <th>save_shadow_matrix</th>
      <td><p>Default `FALSE`. If `TRUE`, the function will return the shadow matrix for use in future updates via the `shadow_cache` argument passed to `ray_shade`.</p></td>
    </tr>
    <tr>
      <th>saved_shadow_matrix</th>
      <td><p>Default `NULL`. A cached shadow matrix (saved by the a previous invocation of `plot_gg(..., save_shadow_matrix=TRUE)` to use instead of raytracing a shadow map each time.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments to be passed to `plot_3d()`.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Opens a 3D plot in rgl.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>ggplot2</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: package ‘ggplot2’ was built under R version 3.6.2</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>viridis</span>)</div><div class='output co'>#&gt; <span class='message'>Loading required package: viridisLite</span></div><div class='input'>
<span class='no'>ggdiamonds</span> <span class='kw'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>diamonds</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='no'>x</span>, <span class='no'>depth</span>)) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_density_2d.html'>stat_density_2d</a></span>(<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>fill</span> <span class='kw'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes_eval.html'>stat</a></span>(<span class='no'>nlevel</span>)), <span class='kw'>geom</span> <span class='kw'>=</span> <span class='st'>"polygon"</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>200</span>, <span class='kw'>bins</span> <span class='kw'>=</span> <span class='fl'>50</span>,<span class='kw'>contour</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span>(<span class='no'>clarity</span>~<span class='no'>.</span>) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_viridis.html'>scale_fill_viridis_c</a></span>(<span class='kw'>option</span> <span class='kw'>=</span> <span class='st'>"A"</span>)
<span class='co'># \donttest{</span>
<span class='fu'>plot_gg</span>(<span class='no'>ggdiamonds</span>,<span class='kw'>multicore</span><span class='kw'>=</span><span class='fl'>TRUE</span>,<span class='kw'>width</span><span class='kw'>=</span><span class='fl'>5</span>,<span class='kw'>height</span><span class='kw'>=</span><span class='fl'>5</span>,<span class='kw'>scale</span><span class='kw'>=</span><span class='fl'>250</span>,<span class='kw'>windowsize</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1400</span>,<span class='fl'>866</span>),
       <span class='kw'>zoom</span> <span class='kw'>=</span> <span class='fl'>0.55</span>, <span class='kw'>phi</span> <span class='kw'>=</span> <span class='fl'>30</span>)
<span class='fu'><a href='render_snapshot.html'>render_snapshot</a></span>()</div><div class='img'><img src='plot_gg-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>

<span class='co'>#Change the camera angle and take a snapshot:</span>
<span class='co'># \donttest{</span>
<span class='fu'><a href='render_camera.html'>render_camera</a></span>(<span class='kw'>zoom</span><span class='kw'>=</span><span class='fl'>0.5</span>,<span class='kw'>theta</span><span class='kw'>=</span>-<span class='fl'>30</span>,<span class='kw'>phi</span><span class='kw'>=</span><span class='fl'>30</span>)
<span class='fu'><a href='render_snapshot.html'>render_snapshot</a></span>(<span class='kw'>clear</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='img'><img src='plot_gg-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>

<span class='co'>#Contours and other lines will automatically be ignored. Here is the volcano dataset:</span>

<span class='no'>ggvolcano</span> <span class='kw'>=</span> <span class='no'>volcano</span> <span class='kw'>%&gt;%</span>
 <span class='kw pkg'>reshape2</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/reshape2/man/melt.html'>melt</a></span>() <span class='kw'>%&gt;%</span>
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>() +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_tile</a></span>(<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>Var1</span>,<span class='kw'>y</span><span class='kw'>=</span><span class='no'>Var2</span>,<span class='kw'>fill</span><span class='kw'>=</span><span class='no'>value</span>)) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_contour.html'>geom_contour</a></span>(<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>Var1</span>,<span class='kw'>y</span><span class='kw'>=</span><span class='no'>Var2</span>,<span class='kw'>z</span><span class='kw'>=</span><span class='no'>value</span>),<span class='kw'>color</span><span class='kw'>=</span><span class='st'>"black"</span>) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span>(<span class='st'>"X"</span>,<span class='kw'>expand</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>0</span>)) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span>(<span class='st'>"Y"</span>,<span class='kw'>expand</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>0</span>)) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_gradient.html'>scale_fill_gradientn</a></span>(<span class='st'>"Z"</span>,<span class='kw'>colours</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/palettes.html'>terrain.colors</a></span>(<span class='fl'>10</span>)) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_fixed.html'>coord_fixed</a></span>()
<span class='no'>ggvolcano</span></div><div class='img'><img src='plot_gg-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># \donttest{</span>
<span class='fu'>plot_gg</span>(<span class='no'>ggvolcano</span>, <span class='kw'>multicore</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>raytrace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>7</span>, <span class='kw'>height</span> <span class='kw'>=</span> <span class='fl'>4</span>,
       <span class='kw'>scale</span> <span class='kw'>=</span> <span class='fl'>300</span>, <span class='kw'>windowsize</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1400</span>, <span class='fl'>866</span>), <span class='kw'>zoom</span> <span class='kw'>=</span> <span class='fl'>0.6</span>, <span class='kw'>phi</span> <span class='kw'>=</span> <span class='fl'>30</span>, <span class='kw'>theta</span> <span class='kw'>=</span> <span class='fl'>30</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1861 row(s) containing missing values (geom_path).</span></div><div class='input'><span class='fu'><a href='render_snapshot.html'>render_snapshot</a></span>(<span class='kw'>clear</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='img'><img src='plot_gg-4.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>

<span class='co'>#Here, we will create a 3D plot of the mtcars dataset. This automatically detects </span>
<span class='co'>#that the user used the `color` aesthetic instead of the `fill`.</span>
<span class='no'>mtplot</span> <span class='kw'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>mtcars</span>) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span>(<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>mpg</span>,<span class='kw'>y</span><span class='kw'>=</span><span class='no'>disp</span>,<span class='kw'>color</span><span class='kw'>=</span><span class='no'>cyl</span>)) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html'>scale_color_continuous</a></span>(<span class='kw'>limits</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>8</span>))

<span class='co'>#Preview how the plot will look by setting `preview = TRUE`: We also adjust the angle of the light.</span>
<span class='co'># \donttest{</span>
<span class='fu'>plot_gg</span>(<span class='no'>mtplot</span>, <span class='kw'>width</span><span class='kw'>=</span><span class='fl'>3.5</span>, <span class='kw'>sunangle</span><span class='kw'>=</span><span class='fl'>225</span>, <span class='kw'>preview</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='img'><img src='plot_gg-5.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>

<span class='co'># \donttest{</span>
<span class='fu'>plot_gg</span>(<span class='no'>mtplot</span>, <span class='kw'>width</span><span class='kw'>=</span><span class='fl'>3.5</span>, <span class='kw'>multicore</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>windowsize</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1400</span>,<span class='fl'>866</span>), <span class='kw'>sunangle</span><span class='kw'>=</span><span class='fl'>225</span>,
       <span class='kw'>zoom</span> <span class='kw'>=</span> <span class='fl'>0.60</span>, <span class='kw'>phi</span> <span class='kw'>=</span> <span class='fl'>30</span>, <span class='kw'>theta</span> <span class='kw'>=</span> <span class='fl'>45</span>)
<span class='fu'><a href='render_snapshot.html'>render_snapshot</a></span>(<span class='kw'>clear</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='img'><img src='plot_gg-6.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>

<span class='co'>#Now let's plot a density plot in 3D.</span>
<span class='no'>mtplot_density</span> <span class='kw'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>mtcars</span>) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_density_2d.html'>stat_density_2d</a></span>(<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>mpg</span>,<span class='kw'>y</span><span class='kw'>=</span><span class='no'>disp</span>, <span class='kw'>fill</span><span class='kw'>=</span><span class='no'>..density..</span>), <span class='kw'>geom</span> <span class='kw'>=</span> <span class='st'>"raster"</span>, <span class='kw'>contour</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span>(<span class='kw'>expand</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>0</span>)) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span>(<span class='kw'>expand</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>0</span>)) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_gradient.html'>scale_fill_gradient</a></span>(<span class='kw'>low</span><span class='kw'>=</span><span class='st'>"pink"</span>, <span class='kw'>high</span><span class='kw'>=</span><span class='st'>"red"</span>)
<span class='no'>mtplot_density</span></div><div class='img'><img src='plot_gg-7.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># \donttest{</span>
<span class='fu'>plot_gg</span>(<span class='no'>mtplot_density</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>4</span>,<span class='kw'>zoom</span> <span class='kw'>=</span> <span class='fl'>0.60</span>, <span class='kw'>theta</span> <span class='kw'>=</span> -<span class='fl'>45</span>, <span class='kw'>phi</span> <span class='kw'>=</span> <span class='fl'>30</span>,
       <span class='kw'>windowsize</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1400</span>,<span class='fl'>866</span>))
<span class='fu'><a href='render_snapshot.html'>render_snapshot</a></span>(<span class='kw'>clear</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='img'><img src='plot_gg-8.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>

<span class='co'>#This also works facetted.</span>
<span class='no'>mtplot_density_facet</span> <span class='kw'>=</span> <span class='no'>mtplot_density</span> + <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span>(~<span class='no'>cyl</span>)

<span class='co'>#Preview this plot in 2D:</span>
<span class='co'># \donttest{</span>
<span class='fu'>plot_gg</span>(<span class='no'>mtplot_density_facet</span>, <span class='kw'>preview</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='img'><img src='plot_gg-9.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>

<span class='co'># \donttest{</span>
<span class='fu'>plot_gg</span>(<span class='no'>mtplot_density_facet</span>, <span class='kw'>windowsize</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1400</span>,<span class='fl'>866</span>),
       <span class='kw'>zoom</span> <span class='kw'>=</span> <span class='fl'>0.55</span>, <span class='kw'>theta</span> <span class='kw'>=</span> -<span class='fl'>10</span>, <span class='kw'>phi</span> <span class='kw'>=</span> <span class='fl'>25</span>)
<span class='fu'><a href='render_snapshot.html'>render_snapshot</a></span>(<span class='kw'>clear</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='img'><img src='plot_gg-10.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>

<span class='co'>#That is a little cramped. Specifying a larger width will improve the readability of this plot.</span>
<span class='co'># \donttest{</span>
<span class='fu'>plot_gg</span>(<span class='no'>mtplot_density_facet</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>6</span>, <span class='kw'>preview</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='img'><img src='plot_gg-11.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>

<span class='co'>#That's better. Let's plot it in 3D, and increase the scale.</span>
<span class='co'># \donttest{</span>
<span class='fu'>plot_gg</span>(<span class='no'>mtplot_density_facet</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>6</span>, <span class='kw'>windowsize</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1400</span>,<span class='fl'>866</span>),
       <span class='kw'>zoom</span> <span class='kw'>=</span> <span class='fl'>0.55</span>, <span class='kw'>theta</span> <span class='kw'>=</span> -<span class='fl'>10</span>, <span class='kw'>phi</span> <span class='kw'>=</span> <span class='fl'>25</span>, <span class='kw'>scale</span><span class='kw'>=</span><span class='fl'>300</span>)
<span class='fu'><a href='render_snapshot.html'>render_snapshot</a></span>(<span class='kw'>clear</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='img'><img src='plot_gg-12.png' alt='' width='700' height='433' /></div><div class='input'># }

#
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.tylermw.com'>Tyler Morgan-Wall</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


